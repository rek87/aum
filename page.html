<html>
    <head>
        <title>Display results!</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script type="text/javascript" src="data/justemenemoi.json.js">/* Load json data*/</script>
    </head>
    <body>
        <script>
            function tableCreate()
            {
                var body = document.body
                var table = document.createElement('table')
                table.setAttribute('width', '100%')
                table.style.border = '1px solid black';
                // Rows
                for (var i in data) {
                    if (data[i]['desc'].length === 0)
                        continue

                    var tr = document.createElement('tr')

                    var lnk = document.createElement('a')
                    lnk.setAttribute('href', data[i]['profile'])
                    var img_lnk = document.createElement('img')
                    img_lnk.setAttribute('src', "data/pics/" + data[i]['img'])
                    var td = document.createElement('td')
                    lnk.appendChild(img_lnk)
                    td.appendChild(lnk)
                    tr.appendChild(td)

                    var attrs = ['name', 'city', 'age', 'desc', 'shop']
                    for (var k in attrs) {
                        var td = document.createElement('td')
                        // Esiste un mdo piu intelligente ??
                        td.appendChild(document.createTextNode(data[i][attrs[k]]))
                        td.style.border = '1px solid black';
                        tr.appendChild(td)
                    }

                    table.appendChild(tr)
                }
                body.appendChild(table)
            }
            tableCreate();
        </script>
    </body>
</html>
